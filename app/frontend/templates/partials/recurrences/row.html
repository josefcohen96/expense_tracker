<tr id="recurrence-row-{{ r['id'] }}" data-active="{{ 1 if r['active'] else 0 }}">
  <td>{{ r['name'] }}</td>
  <td>
    <div class="flex items-center">
      <div class="w-8 h-8 bg-red-100 rounded-full flex items-center justify-center mr-3">
        <i class="fas fa-repeat text-red-600 text-sm"></i>
      </div>
      <span class="font-bold text-lg text-red-600">₪{{ r['amount']|abs|round(2) }}</span>
    </div>
  </td>
  <td>
    <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800">
      <i class="fas fa-tag mr-1"></i>{{ r['category_name'] }}
    </span>
  </td>
  <td>
    <div class="flex items-center">
      <div class="w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center mr-3">
        <i class="fas fa-user text-purple-600 text-sm"></i>
      </div>
      <span>{{ r['user_name'] }}</span>
    </div>
  </td>
  <td>
    {% if r['account_name'] %}
    <span class="inline-flex items-center px-2 py-1 rounded text-sm bg-gray-100 text-gray-800">
      <i class="fas fa-credit-card mr-1"></i>{{ r['account_name'] }}
    </span>
    {% else %}
    <span class="text-gray-400">-</span>
    {% endif %}
  </td>
  <td>{{ r['frequency'] }}</td>
  <td>{{ r['next_charge_date'] }}</td>
  <td>{{ 'כן' if r['active'] else 'לא' }}</td>
  <td>
    <div class="flex items-center gap-2">
      <button class="btn btn-outline btn-sm"
              hx-post="/recurrences/{{ r['id'] }}/toggle-active"
              hx-target="#recurrence-row-{{ r['id'] }}" 
              hx-swap="outerHTML" title="{{ 'השבתה' if r['active'] else 'הפעלה' }}">
        <i class="fas {{ 'fa-toggle-on text-green-600' if r['active'] else 'fa-toggle-off text-gray-500' }}"></i>
      </button>
      <button class="btn btn-outline btn-sm"
              hx-get="/recurrences/{{ r['id'] }}/edit-inline"
              hx-target="#recurrence-row-{{ r['id'] }}" 
              hx-swap="outerHTML" title="עריכה">
        <i class="fas fa-edit"></i>
      </button>
      <button class="btn btn-danger btn-sm"
              hx-post="/recurrences/{{ r['id'] }}/delete-inline"
              hx-target="#recurrence-row-{{ r['id'] }}" 
              hx-swap="outerHTML"
              hx-confirm="האם אתה בטוח שברצונך למחוק את ההוצאה הקבועה הזו?" title="מחיקה">
        <i class="fas fa-trash"></i>
      </button>
    </div>
  </td>
</tr>
