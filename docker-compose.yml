services:
  web:
    build: .
    container_name: expense_tracker
    ports:
      - "8080:8080"
    volumes:
      # Persist the sqlite database using a bind mount
      # Maps host folder (relative to docker-compose.yml) to container folder
      - ./budget.db:/app/app/backend/data/budget.db
    environment:
      # Use development settings for HTTP (non-SSL) access so cookies work
      - ENVIRONMENT=development
      # - RAILWAY_ENVIRONMENT=true 
      - PORT=8080
      # Passwords (managed via env vars for security)
      - USER_PASSWORD_YOSEF=YO1234
      - USER_PASSWORD_KARINA=KA1234
    restart: unless-stopped